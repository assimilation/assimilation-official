language: minimal
dist: bionic
addons:
  apt:
    update: true
    packages:
      - cmake
      - gcc
      - python
      - doxygen
      - pkg-config
      - libglib2.0-dev
      - python-pip
      - libpcap0.8-dev
      - libsodium-dev
      - valgrind

install:
  - sudo pip install ctypesgen testify

script:
  - pwd 
  - mkdir ../root_of_binary_tree && pushd ../root_of_binary_tree
  - cmake ../assimilation-official && sudo make install
  - cpack
